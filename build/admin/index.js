(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.hooks,a=window.React,n=window.wp.apiFetch;var o=e.n(n);const r=window.wp.url,s="https://app.bullmessage.com",c=()=>(0,a.createElement)("div",{className:"padding-3 stack"},(0,a.createElement)("img",{width:"25%",className:"marging-bottom-3",src:"/wp-content/plugins/bullmessage/public/img/integration-logo.png",alt:"Integration logo"}),(0,a.createElement)("h1",{className:"title-typography"},"Your BullMessage + WooCommerce integration is connected!"),(0,a.createElement)("span",{className:"marging-bottom-3"},"Come back to BullMessage dashboard to configure your integration."),(0,a.createElement)("div",{className:"grid grid-justify-content-center"},(0,a.createElement)("div",{className:"grid-item"},(0,a.createElement)("a",{target:"_blank",className:"button button-primary",href:`${s}/integrations/woocommerce`},"Go to your WooCommerce settings")))),l=()=>(0,a.createElement)("div",{className:"padding-3 stack"},(0,a.createElement)("img",{width:"25%",className:"marging-bottom-3",src:"/wp-content/plugins/bullmessage/public/img/integration-logo.png",alt:"Integration logo"}),(0,a.createElement)("h1",{className:"title-typography"},"Connect your BullMessage account to use the BullMessage + WooCommerce integration."),(0,a.createElement)("span",{className:"marging-bottom-3"},"Build custom segments, send automations in BullMessage. Log in to autorize an account connection."," "),(0,a.createElement)("div",{className:"grid grid-justify-content-center grid-spacing-3"},(0,a.createElement)("div",{className:"grid-item"},(0,a.createElement)("a",{className:"button button-primary",href:`${s}/integrations/woocommerce/connect?store_url=${window.origin}`},"Connect Account")),(0,a.createElement)("div",{className:"grid-item"},(0,a.createElement)("a",{className:"button",target:"_blank",href:s},"Create account")))),m=()=>(0,a.createElement)("div",{className:"loader"}),i=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{t(!0),o()({path:(0,r.addQueryArgs)("/bullmessage/v1/account",{})}).then((e=>{t(!1),e&&s(!0)}))}),[]),e?(0,a.createElement)("div",{className:"padding-3"},(0,a.createElement)(m,null)):n?(0,a.createElement)(c,null):(0,a.createElement)(l,null)},g=()=>(0,a.createElement)("div",{className:"wrapper"},(0,a.createElement)(i,null));(0,t.addFilter)("woocommerce_admin_pages_list","bullmessage",(e=>(e.push({container:g,capability:"manage_woocommerce",path:"/bullmessage_settings",breadcrumbs:[],wpOpenMenu:"toplevel_page_woocommerce-marketing",navArgs:{id:"woocommerce-bullmessage"}}),e)))})();